# ะะฐะทะฒะฐะฝะธะต ะฟัะพะตะบัะฐ: LEGO Scraper

## ะะฑัะตะต ะพะฟะธัะฐะฝะธะต
*LEGO Scraper* - ััะพ ะฟัะพะตะบั ะดะปั ัะฑะพัะฐ ะดะฐะฝะฝัั ะพ ะฝะฐะฑะพัะฐั LEGO ั ะพัะธัะธะฐะปัะฝะพะณะพ ัะฐะนัะฐ LEGO.com. ะัะพะตะบั ะฒะบะปััะฐะตั ะฒ ัะตะฑั ะดะฒะฐ 
ะฒะฐัะธะฐะฝัะฐ ัะตะฐะปะธะทะฐัะธะธ: ัะธะฝััะพะฝะฝัะน ัะบัะฐะฟะตั (sync_scraper) ะธ ะผะฝะพะณะพะฟะพัะพัะฝัะน ัะบัะฐะฟะตั (thread_scraper).

## ะะฐะดะฐัะธ ะฟัะพะตะบัะฐ
1. ะกะฑะพั ะธะฝัะพัะผะฐัะธะธ ะพ ัะตะผะฐั (ะบะพะปะปะตะบัะธัั) LEGO.
2. ะะทะฒะปะตัะตะฝะธะต ะดะฐะฝะฝัั ะพ ะบะฐะถะดะพะผ ะฝะฐะฑะพัะต LEGO ะฒ ัะฐะผะบะฐั ััะธั ัะตะผ.
3. ะกะพััะฐะฝะตะฝะธะต ัะพะฑัะฐะฝะฝัั ะดะฐะฝะฝัั ะฒ CSV-ัะฐะนะปั ะดะปั ะดะฐะปัะฝะตะนัะตะณะพ ะฐะฝะฐะปะธะทะฐ.

## ะัะพะตะบั ัะฐะฑะพัะฐะตั ัะปะตะดัััะธะผ ะพะฑัะฐะทะพะผ:

1. ะะฐะณััะถะฐะตั ัััะฐะฝะธัั ั ัะตะผะฐะผะธ LEGO.
2. ะะทะฒะปะตะบะฐะตั ัะฟะธัะพะบ ะฒัะตั ะดะพัััะฟะฝัั ัะตะผ.
3. ะะปั ะบะฐะถะดะพะน ัะตะผั:
   - ะะฐะณััะถะฐะตั ัััะฐะฝะธัั ั ะฝะฐะฑะพัะฐะผะธ LEGO.
   - ะะฟัะตะดะตะปัะตั ะบะพะปะธัะตััะฒะพ ัััะฐะฝะธั ั ะฝะฐะฑะพัะฐะผะธ.
   - ะัะพัะพะดะธั ะฟะพ ะบะฐะถะดะพะน ัััะฐะฝะธัะต ะธ ะธะทะฒะปะตะบะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ะฝะฐะฑะพัะฐั.
4. ะกะพะฑะธัะฐะตั ะฒัั ะธะฝัะพัะผะฐัะธั ะฒ ะตะดะธะฝัะน ัะฟะธัะพะบ.
5. ะกะพััะฐะฝัะตั ะดะฐะฝะฝัะต ะฒ CSV-ัะฐะนะป.

## ะัะพะฑะตะฝะฝะพััะธ
- ะะฒะฐ ะฒะฐัะธะฐะฝัะฐ ัะตะฐะปะธะทะฐัะธะธ: ัะธะฝััะพะฝะฝัะน ะธ ะผะฝะพะณะพะฟะพัะพัะฝัะน.
- ะะฑัะฐะฑะพัะบะฐ ัะตะบะปะฐะผะฝัั ะฑะปะพะบะพะฒ ะธ ะธั ะฟัะพะฟััะบ.
- ะะทะฒะปะตัะตะฝะธะต ัะฐะทะปะธัะฝัั ะฐััะธะฑััะพะฒ ะฝะฐะฑะพัะพะฒ: ะฝะฐะทะฒะฐะฝะธะต, ะฒะพะทัะฐัั, ะบะพะปะธัะตััะฒะพ ะดะตัะฐะปะตะน, ัะตะนัะธะฝะณ, ัะตะฝะฐ, ัะบะธะดะบะฐ, ะดะพัััะฟะฝะพััั.
- ะะพะณะธัะพะฒะฐะฝะธะต ะฟัะพัะตััะฐ ัะฐะฑะพัั ะธ ะพัะธะฑะพะบ.

## ะะฐัััะพะนะบะธ ะฟัะพะตะบัะฐ ััะฐะฝัััั ะฒ ัะฐะนะปะต config/settings.py:
- CUSTOM_USER_AGENT: ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะน ะฐะณะตะฝั ะดะปั ะทะฐะฟัะพัะพะฒ.
- BASE_URL ะธ THEME_URL: ะฑะฐะทะพะฒัะต URL ะดะปั ัะฐะนัะฐ LEGO.
- DEFAULT_PAGE ะธ DEFAULT_OFFSET: ะฟะฐัะฐะผะตััั ะฟะฐะณะธะฝะฐัะธะธ.
- ะััะธ ะบ CSV-ัะฐะนะปะฐะผ ะดะปั ัะพััะฐะฝะตะฝะธั ะดะฐะฝะฝัั.

# Sync Scraper (ะกะธะฝััะพะฝะฝัะน ัะบัะฐะฟะตั)

## ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ:
1. get_page_content(page_url: str) -> bytes: ะะพะปััะฐะตั ัะพะดะตัะถะธะผะพะต ัััะฐะฝะธัั ะฟะพ URL.
2. get_soup(base_url: str, page_number: int = config.DEFAULT_PAGE) -> bs: ะกะพะทะดะฐะตั ะพะฑัะตะบั BeautifulSoup ะดะปั ะฟะฐััะธะฝะณะฐ HTML.
3. get_themes(themes_page_soup): ะะทะฒะปะตะบะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ัะตะผะฐั LEGO.
4. get_toys_page(theme_page_soup): ะะพะปััะฐะตั ะบะพะปะธัะตััะฒะพ ะธะณัััะตะบ ะธ ัััะฐะฝะธั ะดะปั ัะตะผั.
5. get_toys_data(toy_page_soup, theme_name="Marvel"): ะะทะฒะปะตะบะฐะตั ะดะฐะฝะฝัะต ะพ ะฝะฐะฑะพัะฐั LEGO ั ัััะฐะฝะธัั.

## ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ัะฐะฑะพัั:
1. ะะฐะณััะทะบะฐ ัััะฐะฝะธัั ั ัะตะผะฐะผะธ.
2. ะะทะฒะปะตัะตะฝะธะต ัะฟะธัะบะฐ ัะตะผ.
3. ะะพัะปะตะดะพะฒะฐัะตะปัะฝัะน ะฟัะพัะพะด ะฟะพ ะบะฐะถะดะพะน ัะตะผะต ะธ ัััะฐะฝะธัะต ั ะฝะฐะฑะพัะฐะผะธ.
4. ะกะฑะพั ะดะฐะฝะฝัั ะพ ะบะฐะถะดะพะผ ะฝะฐะฑะพัะต.
5. ะกะพััะฐะฝะตะฝะธะต ะฒัะตั ะดะฐะฝะฝัั ะฒ CSV-ัะฐะนะป.

# Thread Scraper (ะะฝะพะณะพะฟะพัะพัะฝัะน ัะบัะฐะฟะตั)

## ะัะฝะพะฒะฝัะต ััะฝะบัะธะธ:
1. get_page_content(page_url: str) -> bytes: ะะฝะฐะปะพะณะธัะฝะพ sync_scraper.
2. get_soup(base_url: str, page_number: int = config.DEFAULT_PAGE) -> bs: ะะฝะฐะปะพะณะธัะฝะพ sync_scraper.
3. extract_themes(themes_page_soup: bs) -> List[Dict[str, str]]: ะะทะฒะปะตะบะฐะตั ะธะฝัะพัะผะฐัะธั ะพ ัะตะผะฐั LEGO.
4. extract_toy_count_and_pages(theme_page_soup: bs) -> Tuple[int, int]: ะะพะปััะฐะตั ะบะพะปะธัะตััะฒะพ ะธะณัััะตะบ ะธ ัััะฐะฝะธั ะดะปั ัะตะผั.
5. extract_toys_from_page(toy_page_soup: bs, theme_name: str) -> List[Dict[str, Optional[str]]]: ะะทะฒะปะตะบะฐะตั ะดะฐะฝะฝัะต ะพ 
   ะฝะฐะฑะพัะฐั LEGO ั ัััะฐะฝะธัั.
6. process_theme(theme: Dict[str, str]) -> List[Dict[str, Optional[str]]]: ะะฑัะฐะฑะฐััะฒะฐะตั ะพะดะฝั ัะตะผั ัะตะปะธะบะพะผ.

## ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ัะฐะฑะพัั:
1. ะะฐะณััะทะบะฐ ัััะฐะฝะธัั ั ัะตะผะฐะผะธ.
2. ะะทะฒะปะตัะตะฝะธะต ัะฟะธัะบะฐ ัะตะผ.
3. ะกะพะทะดะฐะฝะธะต ะฟัะปะฐ ะฟะพัะพะบะพะฒ.
4. ะะฐัะฐะปะปะตะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะบะฐะถะดะพะน ัะตะผั ะฒ ะพัะดะตะปัะฝะพะผ ะฟะพัะพะบะต.
5. ะกะฑะพั ัะตะทัะปััะฐัะพะฒ ะฒัะตั ะฟะพัะพะบะพะฒ.
6. ะกะพััะฐะฝะตะฝะธะต ะฒัะตั ะดะฐะฝะฝัั ะฒ CSV-ัะฐะนะป.

## ะัะพะฑะตะฝะฝะพััะธ thread_scraper:
- ะัะฟะพะปัะทัะตั ThreadPoolExecutor ะดะปั ะฟะฐัะฐะปะปะตะปัะฝะพะน ะพะฑัะฐะฑะพัะบะธ ัะตะผ.
- ะะพะถะตั ะทะฝะฐัะธัะตะปัะฝะพ ััะบะพัะธัั ะฟัะพัะตัั ัะฑะพัะฐ ะดะฐะฝะฝัั, ะพัะพะฑะตะฝะฝะพ ะฟัะธ ะฑะพะปััะพะผ ะบะพะปะธัะตััะฒะต ัะตะผ ะธ ะฝะฐะฑะพัะพะฒ.

## ะะฐะบะปััะตะฝะธะต
ะญัะพั ะฟัะพะตะบั ะฟัะตะดะพััะฐะฒะปัะตั ะณะธะฑะบะธะน ะธะฝััััะผะตะฝั ะดะปั ัะฑะพัะฐ ะดะฐะฝะฝัั ะพ ะฝะฐะฑะพัะฐั LEGO. ะกะธะฝััะพะฝะฝะฐั ะฒะตััะธั ะฟัะพัะต ะฒ ะพัะปะฐะดะบะต ะธ 
ะฟะพะดัะพะดะธั ะดะปั ะฝะตะฑะพะปััะธั ะพะฑัะตะผะพะฒ ะดะฐะฝะฝัั, ะฒ ัะพ ะฒัะตะผั ะบะฐะบ ะผะฝะพะณะพะฟะพัะพัะฝะฐั ะฒะตััะธั ะพะฑะตัะฟะตัะธะฒะฐะตั ะฑะพะปะตะต ะฒััะพะบัั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
ะฟัะธ ัะฐะฑะพัะต ั ะฑะพะปััะธะผะธ ะพะฑัะตะผะฐะผะธ ะดะฐะฝะฝัั. ะัะฑะพั ะผะตะถะดั ะฝะธะผะธ ะทะฐะฒะธัะธั ะพั ะบะพะฝะบัะตัะฝัั ะฟะพััะตะฑะฝะพััะตะน ะธ ัะตััััะพะฒ.

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ:

```bash
๐ lego_scraper/                      # ะะพัะฝะตะฒะฐั ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ
โ
โโโ ๐ src/                           # ะััะพะดะฝัะน ะบะพะด ะฟัะธะปะพะถะตะฝะธั
โ   โ
โ   โโโ __init__.py                   # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะฐะบะตัะฐ src
โ   โ 
โ   โโโ ๐ sync_scraper/              # ะะพะดัะปั ัะธะฝััะพะฝะฝะพะณะพ ัะบัะฐะฟะตัะฐ
โ   โ   โ  
โ   โ   โโโ __init__.py               # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะฐะบะตัะฐ sync_scraper
โ   โ   โ 
โ   โ   โโโ main.py                   # ะขะพัะบะฐ ะฒัะพะดะฐ ะดะปั ัะธะฝััะพะฝะฝะพะณะพ ัะบัะฐะฟะตัะฐ
โ   โ   โ 
โ   โ   โโโ scraper.py                # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ัะธะฝััะพะฝะฝะพะณะพ ัะบัะฐะฟะธะฝะณะฐ
โ   โ   โ 
โ   โ   โโโ extractors.py             # ะคัะฝะบัะธะธ ะธะทะฒะปะตัะตะฝะธั ะดะฐะฝะฝัั ะดะปั sync_scraper
โ   โ
โ   โโโ ๐ thread_scraper/            # ะะพะดัะปั ะผะฝะพะณะพะฟะพัะพัะฝะพะณะพ ัะบัะฐะฟะตัะฐ
โ       โ 
โ       โโโ __init__.py               # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะฐะบะตัะฐ thread_scraper
โ       โ 
โ       โโโ main.py                   # ะขะพัะบะฐ ะฒัะพะดะฐ ะดะปั ะผะฝะพะณะพะฟะพัะพัะฝะพะณะพ ัะบัะฐะฟะตัะฐ
โ       โ 
โ       โโโ scraper.py                # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะผะฝะพะณะพะฟะพัะพัะฝะพะณะพ ัะบัะฐะฟะธะฝะณะฐ
โ       โ 
โ       โโโ processors.py             # ะะฑัะฐะฑะพััะธะบะธ ะดะฐะฝะฝัั ะดะปั thread_scraper
โ       โ 
โ       โโโ extractors.py             # ะคัะฝะบัะธะธ ะธะทะฒะปะตัะตะฝะธั ะดะฐะฝะฝัั ะดะปั thread_scraper
โ
โโโ ๐ data/                          # ะะธัะตะบัะพัะธั ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั
โ   โ
โ   โโโ all_toy_data_simple.csv       # ะะตะทัะปััะฐัั ัะฐะฑะพัั sync_scraper
โ   โ
โ   โโโ all_toy_data_threads.csv      # ะะตะทัะปััะฐัั ัะฐะฑะพัั thread_scraper
โ 
โโโ ๐ config/                        # ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ัะฐะนะปั
โ   โ
โ   โโโ __init__.py                   # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะฐะบะตัะฐ config
โ   โ
โ   โโโ settings.py                   # ะะฐัััะพะนะบะธ ะฟัะพะตะบัะฐ
โ 
โโโ ๐ utils/                         # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะธะปะธัั
โ   โ
โ   โโโ __init__.py                   # ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะฐะบะตัะฐ utils
โ   โ
โ   โโโ logger_config.py              # ะะพะฝัะธะณััะฐัะธั ะปะพะณะณะตัะฐ
โ 
โโโ .gitignore                        # ะคะฐะนะป ะดะปั ะธะณะฝะพัะธัะพะฒะฐะฝะธั Git
โ 
โโโ README.md                         # ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ
โ 
โโโ requirements.txt                  # ะะฐะฒะธัะธะผะพััะธ ะฟัะพะตะบัะฐ
โ 
โโโ ๐ venv/                          # ะะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต Python
```